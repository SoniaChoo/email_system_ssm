<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<title>HTML注册登录页面模板</title>
<link rel="stylesheet" href="css/style.css">

    <script src="./statics/jquery-3.5.1.js"></script>

</head>

<body>
    <div class="content"style="text-align:center; line-height: normal" >
        <div id="mycontent" style="border: #8fa1c7; height: 200px; width: 200px"></div>
        <div class="f">
            <div id="myaccount">账号:</div>
            <div id="mypassword">密码:</div>
            <div>
                <p class="forgot-pass"><span style="color: #27282a">注意:</span><a href="javascript:">必须先在百度云点击获取验证码</a></p>
                <p class="forgot-pass"><a href="javascript:">再点击下方按钮</a></p>
            </div>

            <button type="button" class="submit" onclick="getCaptchaCode()">获取验证码</button>
        </div>

    </div>

    <script src="js/script.js"></script>
	
<!--	<div style="text-align:center;">-->
<!--<p>还没获得邮箱账号信息?：<a href="login_bak.html" target="_blank">邀请码验证</a></p>-->
<!--</div>-->

    <script>
        function parseUrl(url){
            if(url.indexOf("?") == -1) {
                return {};
            }
            var query = url.split("?")[1];
            var queryArr = query.split("&");
            var obj = {};
            queryArr.forEach(function(item){
                var key = item.split("=")[0];
                var value = item.split("=")[1];
                obj[key] = decodeURIComponent(value);
            });
            return obj;
        }


        var urlMsg = parseUrl(window.location.search);
        document.getElementById("myaccount").innerHTML = "账号:"+urlMsg.captchaTo;
        document.getElementById("mypassword").innerHTML = "密码:"+urlMsg.mypwd;
        function getCaptchaCode() {
            $.ajax({
                url:"./invitation/searchCaptcha?invitationCode="+urlMsg.invitationCode+"&captchaTo="+urlMsg.captchaTo,
                success:function (captchaData) {
                    console.log(captchaData);
                    alert(captchaData.data.captchaCode);
                }           })
        }
    </script>
</body>

</html>